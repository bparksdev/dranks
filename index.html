<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.1/css/fontawesome.min.css">
        <link rel="stylesheet" href="index.css">
        <script
        src="https://code.jquery.com/jquery-3.6.4.min.js"
        integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8="
        crossorigin="anonymous"></script>        
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"></script>
        <script src="index.js"></script>
    </head>
    <body>
        <div class="header">
            <h1>Dranks! <img src="icon.png" style="width:40px" /></h1>
        </div>
        <div class="container-fluid">

            <h4>Search <button class="btn btn-small btn-primary btn-clear" id="btnClear">Clear</button></h4>
            <form id="searchForm" class="mb-3">
                <input type="text" id="byName" name="byName" class="form-control half-box" placeholder="By Name"></input>
                <input type="text" id="byIngredient" name="byIngredient" class="form-control half-box" placeholder="By Ingredient"></input>
                <input type="submit" value="Search" class="btn btn-small btn-primary"> 
            </form>
            <div id="results"></div>
            <div class="card" id="card-details" style="display:none">
                <div class="card-header">
                    <h3>Drink: <span id="drinkName"></span></h3>
                </div>
                <div class="card-body text-center">
                    <p><label>Suggested Glass:</label> <span id="glass"></span> </p>
                    <p id=""><label>Ingredients:</label><br /><span id="ingredients"></span></p>
                    <p id="instructions"></p>
                    <img id="picture" style="width:50%" class="text-center" />
                </div>
            </div>            
        </div>        
    </body>
</html>

<script>
    $("#btnClear").click(function() {
        window.location = "index.html";
    })

    function getData(form) {
        var formData = new FormData(form);

        if(Object.fromEntries(formData).byName.length) {
            getResults(Object.fromEntries(formData).byName,1)
        }
        if(Object.fromEntries(formData).byIngredient.length) {
            getResults(Object.fromEntries(formData).byIngredient,2)
        }        
    }
    
    document.getElementById("searchForm").addEventListener("submit", function (e) {
        e.preventDefault();
        getData(e.target);
    });    
</script>